---

# 🛠 create-repo

A powerful CLI tool to instantly initialize, publish, and auto-sync Git repositories (GitHub, GitLab, Bitbucket) with background syncing via **cron (Linux)** or **launchd (macOS)**. Supports auto-updates, `.deb`/`.pkg` packaging, templates, and much more.

---

## 🚀 Features

- ✅ Interactive first-run setup (`~/.create-repo.conf`)
- ✅ Platform detection (GitHub / GitLab / Bitbucket)
- ✅ Auto-create remote repository
- ✅ Git init + `main`/`master` branch
- ✅ Auto-detect active branch
- ✅ Auto-generate `.gitignore` and `README.md`
- ✅ Repo tracking via `~/.repo-autosync.list`
- ✅ `.env` support for deployments
- ✅ Background syncing via cron or launchd
- ✅ Colored CLI logs + full logging
- ✅ Team collaboration: `--share`, `--team`, `--contributors`
- ✅ Self-update via `--update` (with version check)
- ✅ GitHub CLI (`gh`) and GUI integration
- ✅ Desktop notifications (Linux/macOS/WSL)
- ✅ CI/CD-based `.deb` and `.pkg` builds with GitHub Actions

---

## 📦 Installation

### 📥 For Linux (.deb)

```bash
wget https://github.com/justrunme/cra/releases/latest/download/create-repo_*.deb
sudo dpkg -i create-repo_*.deb
```

### 🍏 For macOS (via install script)

```bash
curl -fsSL https://raw.githubusercontent.com/justrunme/cra/main/install-create-repo.sh | bash
```

---

## 🧠 Usage

```bash
create-repo [repo-name] [flags]
```

If no name is provided, current directory name is used.

---

## 🔄 First Run

On first launch, you’ll be asked:

```
📦 Repo name [my-folder]:
🔐 Type (public/private) [public]:
👥 GitHub team (optional) [none]:
⏱ Sync interval in minutes [1]:
```

Your config is saved to `~/.create-repo.conf` for all future runs.

---

## ⚙️ Flags

| Flag              | Purpose |
|-------------------|---------|
| `--interactive`   | Force interactive mode |
| `--status`        | Show background sync status |
| `--log [N]`       | Show last N log lines |
| `--list`          | List all tracked repos |
| `--remove`        | Untrack current repo |
| `--clean`         | Clean up non-existing paths |
| `--share`         | Show repo + team link |
| `--team <name>`   | Specify GitHub team |
| `--contributors`  | List repo contributors |
| `--update`        | Check for and apply latest update |
| `--pull-only`     | Pull changes only, no push |
| `--dry-run`       | Test mode (no push) |
| `--version`       | Show current version |
| `--help`          | Show help |

---

## 🔁 Auto Syncing

### Linux (cron):

```bash
*/N * * * * /usr/local/bin/update-all  # auto-sync by create-repo
```

### macOS (launchd):

```bash
~/Library/LaunchAgents/com.create-repo.auto.plist
```

The background tool `update-all`:
- commits + pushes changes
- supports `.env`
- tracks branch name (main/master)
- writes logs: `~/.create-repo.log`, errors: `~/.create-repo-errors.log`

---

## 🔧 Config: `~/.create-repo.conf`

```ini
# ~/.create-repo.conf — create-repo global settings

# 🔐 Repo type
default_visibility=private

# ⏱ Sync interval (minutes)
default_cron_interval=5

# 👥 GitHub team (if used)
default_team=devops-team
```

---

## 🧩 Templates

Add your `.gitignore` or `README.md` templates in:

```bash
~/.create-repo/templates/python.gitignore
~/.create-repo/templates/node.gitignore
```

They’re applied automatically if relevant files (e.g. `main.py`, `package.json`) exist in your project.

---

## 🧪 CI/CD

✅ **GitHub Actions support**:
- `.deb` and `.pkg` builds
- Smoke tests
- Package validation
- Changelog
- Automated Release publishing

✅ **Release includes**:
- `.deb`, `.pkg`, `install-create-repo.sh`
- Autogenerated version (vX.Y.Z)

---

## 👥 Collaboration

| Feature          | Command |
|------------------|---------|
| Share a link     | `create-repo --share` |
| Set GitHub team  | `create-repo --team devops` |
| List contributors| `create-repo --contributors` |

---

## 📜 Logs

| File                         | Purpose |
|------------------------------|---------|
| `~/.create-repo.log`         | General log |
| `~/.create-repo-errors.log`  | Errors + CI logs |

---

## 🧪 Examples

```bash
create-repo my-app             # Create repo from folder
create-repo --log 20           # Show 20 last logs
create-repo --update           # Check for updates
create-repo --remove           # Untrack this repo
create-repo --interactive      # Reconfigure tool
create-repo --share --team devs  # Share with team
```

---

## ⚙️ Requirements

| CLI/Tool      | Purpose |
|---------------|---------|
| `git`         | Git operations |
| `gh`          | GitHub CLI |
| `curl`        | GitLab / Bitbucket APIs |
| `notify-send` / `osascript` | Desktop notifications |

---

## 💡 Highlights

- Auto-detection and syncing
- `.env`, `.gitignore`, `README.md` templates
- GUI integration (GitHub Desktop etc.)
- CLI alias: `cra`
- GitHub Actions powered `.deb`/`.pkg` CI/CD

---

## 👨‍💻 Author

**justrunme**  
GitHub: [github.com/justrunme](https://github.com/justrunme)

---

🙋 **Got ideas or feedback?**
Open an issue or just run:

```bash
create-repo --interactive
```

---

📦 _Install. Run. Enjoy automation._  
🚀 **Welcome to DevOps Zen.**

---
